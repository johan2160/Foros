{% extends 'master.html' %}

{% block title %}
ForoVox | Historial de Acciones
{% endblock %}

{% block content %}
{% include 'components/admin-display.html' %}
<div class="flex justify-center">
  <div class="flex flex-col items-center xl:items-start max-w-7xl w-full px-4 xl:pl-[25rem]">
    <h2 class="font-bold text-2xl mb-8">Historial de Acciones</h2>
    <div class="max-w-2xl w-full border rounded-md border-[#D9D9D9]">
      <table class="w-full table-auto text-sm">
        <thead>
          <tr class="border-b border-[#D9D9D9] hover:bg-[#F1F3F8] transition-colors">
            <th class="text-left p-2 py-3.5">Id</th>
            <th class="text-left p-2 py-3.5">Usuario</th>
            <th class="text-left p-2 py-3.5">Acci√≥n</th>
            <th class="text-right p-2 py-3.5">Fecha y hora</th>
          </tr>
        </thead>
        <tbody>
          {% for accion in historial reversed %}
          <tr class="border-b border-[#D9D9D9] hover:bg-[#F1F3F8] transition-colors">
            <td class="text-left p-2 py-3.5">{{ accion.id }}</td>
            <td class="text-left p-2 py-3.5">{{ accion.usuario.nombres }}</td>
            <td class="text-left p-2 py-3.5">{{ accion.accion }}</td>
            <td class="text-right p-2 py-3.5">{{ accion.fecha|date:"M. d, Y, g:i a" }}</td>
          </tr>
          {% empty %}
          <tr>
            <td colspan="4" class="text-center p-2 py-3.5">No hay acciones registradas</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</div>
{% endblock %}
